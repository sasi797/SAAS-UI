{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/SAAS/saas-dev/SAAS-UI/src/app/dashboard/user-codes/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Card,\r\n  Typography,\r\n  List,\r\n  ListItemButton,\r\n  ListItemText,\r\n  Divider,\r\n  IconButton,\r\n  TextField,\r\n  Button,\r\n  Chip,\r\n  Stack,\r\n  Tabs,\r\n  Tab,\r\n} from \"@mui/material\";\r\n\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\n\r\nconst UserCodesPage = () => {\r\n  const [codes, setCodes] = useState([]);\r\n  const [modules, setModules] = useState([]);\r\n  const [activeModule, setActiveModule] = useState(null);\r\n  const [selectedField, setSelectedField] = useState(null);\r\n  const [newOption, setNewOption] = useState(\"\");\r\n\r\n  // Sample dataset (replace with Redux decrypted response)\r\n  const dataset = [\r\n    {\r\n      group_type: \"driver\",\r\n      field_name: \"driver_status\",\r\n      field_values: [\"Active\", \"On Leave\", \"Suspended\", \"Retired\"],\r\n    },\r\n    {\r\n      group_type: \"driver\",\r\n      field_name: \"gender\",\r\n      field_values: [\"Male\", \"Female\", \"Other\"],\r\n    },\r\n    {\r\n      group_type: \"driver\",\r\n      field_name: \"license_type\",\r\n      field_values: [\"LMV\", \"HMV\", \"Transport\"],\r\n    },\r\n\r\n    {\r\n      group_type: \"vehicle_master\",\r\n      field_name: \"vehicle_type\",\r\n      field_values: [\"New\", \"Old\", \"Outside\", \"Market\"],\r\n    },\r\n    {\r\n      group_type: \"vehicle_master\",\r\n      field_name: \"vehicle_class\",\r\n      field_values: [\"Commercial\", \"Passenger\"],\r\n    },\r\n    {\r\n      group_type: \"vehicle_master\",\r\n      field_name: \"fuel_type\",\r\n      field_values: [\"Petrol\", \"Diesel\", \"EV\"],\r\n    },\r\n\r\n    {\r\n      group_type: \"location_master\",\r\n      field_name: \"location_type\",\r\n      field_values: [\"Pickup Point\", \"Drop Point\", \"Factory\"],\r\n    },\r\n    {\r\n      group_type: \"location_master\",\r\n      field_name: \"zone\",\r\n      field_values: [\"East\", \"West\", \"North\", \"South\"],\r\n    },\r\n\r\n    {\r\n      group_type: \"user_master\",\r\n      field_name: \"roles\",\r\n      field_values: [\"Admin\", \"Manager\", \"Operator\"],\r\n    },\r\n\r\n    {\r\n      group_type: \"vehicle\",\r\n      field_name: \"payment_details\",\r\n      field_values: [\"UPI\", \"Cash\", \"Bank Transfer\"],\r\n    },\r\n    {\r\n      group_type: \"vehicle\",\r\n      field_name: \"gender\",\r\n      field_values: [\"Male\", \"Female\"],\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    setCodes(dataset);\r\n\r\n    const uniqueModules = [...new Set(dataset.map((d) => d.group_type))];\r\n    setModules(uniqueModules);\r\n\r\n    setActiveModule(uniqueModules[0]);\r\n  }, []);\r\n\r\n  const fieldsOfActiveModule = codes.filter(\r\n    (c) => c.group_type === activeModule\r\n  );\r\n\r\n  const handleAdd = () => {\r\n    if (!newOption.trim()) return;\r\n\r\n    const updated = codes.map((item) =>\r\n      item.field_name === selectedField.field_name\r\n        ? {\r\n            ...item,\r\n            field_values: [...item.field_values, newOption],\r\n          }\r\n        : item\r\n    );\r\n\r\n    setCodes(updated);\r\n    setNewOption(\"\");\r\n  };\r\n\r\n  const handleDelete = (value) => {\r\n    const updated = codes.map((item) =>\r\n      item.field_name === selectedField.field_name\r\n        ? {\r\n            ...item,\r\n            field_values: item.field_values.filter((v) => v !== value),\r\n          }\r\n        : item\r\n    );\r\n\r\n    setCodes(updated);\r\n  };\r\n\r\n  return (\r\n    <Box p={3}>\r\n      {/* ------------ MODULE TABS ------------ */}\r\n      <Tabs\r\n        value={activeModule}\r\n        onChange={(e, val) => {\r\n          setActiveModule(val);\r\n          setSelectedField(null);\r\n        }}\r\n      >\r\n        {modules.map((m) => (\r\n          <Tab key={m} label={m.replace(/_/g, \" \").toUpperCase()} value={m} />\r\n        ))}\r\n      </Tabs>\r\n\r\n      <Box display=\"flex\" gap={3} mt={3}>\r\n        {/* -------- LEFT: FIELD LIST -------- */}\r\n        <Card sx={{ width: 280, p: 2 }}>\r\n          <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600 }}>\r\n            Fields\r\n          </Typography>\r\n          <Divider sx={{ mb: 1 }} />\r\n\r\n          <List>\r\n            {fieldsOfActiveModule.map((item) => (\r\n              <ListItemButton\r\n                key={item.field_name}\r\n                selected={selectedField?.field_name === item.field_name}\r\n                onClick={() => setSelectedField(item)}\r\n                sx={{ borderRadius: 2, mb: 1 }}\r\n              >\r\n                <ListItemText\r\n                  primary={item.field_name.replace(/_/g, \" \").toUpperCase()}\r\n                />\r\n              </ListItemButton>\r\n            ))}\r\n          </List>\r\n        </Card>\r\n\r\n        {/* -------- RIGHT: OPTIONS EDITOR -------- */}\r\n        <Card sx={{ flex: 1, p: 3 }}>\r\n          {!selectedField ? (\r\n            <Typography sx={{ color: \"gray\" }}>\r\n              Select a field to configure â†’\r\n            </Typography>\r\n          ) : (\r\n            <>\r\n              <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600 }}>\r\n                {selectedField.field_name.replace(/_/g, \" \").toUpperCase()}\r\n              </Typography>\r\n\r\n              {/* Chips */}\r\n              <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\" sx={{ mb: 3 }}>\r\n                {selectedField.field_values.map((option) => (\r\n                  <Chip\r\n                    key={option}\r\n                    label={option}\r\n                    onDelete={() => handleDelete(option)}\r\n                    deleteIcon={<DeleteIcon />}\r\n                    sx={{ mb: 1 }}\r\n                  />\r\n                ))}\r\n              </Stack>\r\n\r\n              {/* Add Option */}\r\n              <Box display=\"flex\" gap={1}>\r\n                <TextField\r\n                  size=\"small\"\r\n                  label=\"Add Option\"\r\n                  fullWidth\r\n                  value={newOption}\r\n                  onChange={(e) => setNewOption(e.target.value)}\r\n                />\r\n                <IconButton color=\"primary\" onClick={handleAdd}>\r\n                  <AddIcon />\r\n                </IconButton>\r\n              </Box>\r\n            </>\r\n          )}\r\n        </Card>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default UserCodesPage;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}