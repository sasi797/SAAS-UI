{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/SAAS/saas-dev/SAAS-UI/src/utils/postApiMethod.js"],"sourcesContent":["export const postApi = async (url, payload) => {\r\n  const baseUrl = process.env.NEXT_PUBLIC_BASE_URL?.replace(/\\/+$/, \"\"); // strip trailing /\r\n  const fullUrl = url.startsWith(\"http\") ? url : `${baseUrl}${url}`; // âœ… don't add extra slash\r\n\r\n  try {\r\n    const response = await fetch(fullUrl, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        // Authorization: `${token}`,\r\n      },\r\n      body: JSON.stringify(payload),\r\n    });\r\n\r\n    const result = await response.json();\r\n\r\n    if (response.ok) {\r\n      // Return the successful result (with JWT and user details)\r\n      return result;\r\n    } else {\r\n      // Throw an error with the message from the response\r\n      // throw new Error(result.error?.message || \"Something went wrong\");\r\n      throw new Error(result?.message || \"Failed to fetch data\");\r\n    }\r\n  } catch (error) {\r\n    // Catch network or other errors\r\n    throw new Error(error.message || \"Network error\");\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;AACkB;AADX,MAAM,UAAU,OAAO,KAAK;QACjB;IAAhB,MAAM,WAAU,2GAAA,wDAAA,kCAAkC,OAAO,CAAC,QAAQ,KAAK,mBAAmB;IAC1F,MAAM,UAAU,IAAI,UAAU,CAAC,UAAU,MAAM,AAAC,GAAY,OAAV,SAAc,OAAJ,MAAO,0BAA0B;IAE7F,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,SAAS;YACpC,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAElB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,MAAM,SAAS,MAAM,SAAS,IAAI;QAElC,IAAI,SAAS,EAAE,EAAE;YACf,2DAA2D;YAC3D,OAAO;QACT,OAAO;YACL,oDAAoD;YACpD,oEAAoE;YACpE,MAAM,IAAI,MAAM,CAAA,mBAAA,6BAAA,OAAQ,OAAO,KAAI;QACrC;IACF,EAAE,OAAO,OAAO;QACd,gCAAgC;QAChC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;AACF","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/SAAS/saas-dev/SAAS-UI/src/app/dashboard/upload/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { postFormData } from \"@/utils/postApiMethod\"; // use the new helper\r\nimport { useState } from \"react\";\r\n\r\nconst Upload = () => {\r\n    const [files, setFiles] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleFileChange = (e) => setFiles(e.target.files);\r\n\r\n    const handleUpload = async () => {\r\n        if (files.length === 0) {\r\n            alert(\"Please select at least one file\");\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n        for (let i = 0; i < files.length; i++) {\r\n            formData.append(\"files\", files[i]);\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            const blob = await postFormData(\"/vehicles/upload-resumes\", formData);\r\n\r\n            // Trigger download\r\n            const url = window.URL.createObjectURL(blob);\r\n            const link = document.createElement(\"a\");\r\n            link.href = url;\r\n            link.setAttribute(\"download\", \"resumes.xlsx\");\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            link.remove();\r\n            window.URL.revokeObjectURL(url);\r\n\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert(\"Upload failed\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Upload Resumes</h2>\r\n            <input type=\"file\" multiple onChange={handleFileChange} />\r\n            <button onClick={handleUpload} disabled={loading}>\r\n                {loading ? \"Processing...\" : \"Upload & Generate Excel\"}\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Upload;\r\n"],"names":[],"mappings":";;;;AACA,kOAAsD,qBAAqB;AAC3E;;;AAFA;;;AAIA,MAAM,SAAS;;IACX,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,mBAAmB,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;IAEvD,MAAM,eAAe;QACjB,IAAI,MAAM,MAAM,KAAK,GAAG;YACpB,MAAM;YACN;QACJ;QAEA,MAAM,WAAW,IAAI;QACrB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;YACnC,SAAS,MAAM,CAAC,SAAS,KAAK,CAAC,EAAE;QACrC;QAEA,WAAW;QACX,IAAI;YACA,MAAM,OAAO,MAAM,CAAA,GAAA,gIAAA,CAAA,eAAY,AAAD,EAAE,4BAA4B;YAE5D,mBAAmB;YACnB,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;YACvC,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,IAAI,GAAG;YACZ,KAAK,YAAY,CAAC,YAAY;YAC9B,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,KAAK,KAAK;YACV,KAAK,MAAM;YACX,OAAO,GAAG,CAAC,eAAe,CAAC;QAE/B,EAAE,OAAO,KAAK;YACV,QAAQ,KAAK,CAAC;YACd,MAAM;QACV,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,6LAAC;;0BACG,6LAAC;0BAAG;;;;;;0BACJ,6LAAC;gBAAM,MAAK;gBAAO,QAAQ;gBAAC,UAAU;;;;;;0BACtC,6LAAC;gBAAO,SAAS;gBAAc,UAAU;0BACpC,UAAU,kBAAkB;;;;;;;;;;;;AAI7C;GAhDM;KAAA;uCAkDS","debugId":null}}]
}