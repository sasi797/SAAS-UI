{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///D:/SAAS/saas-dev/SAAS-UI/src/app/dashboard/user-codes/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Card,\r\n  Typography,\r\n  List,\r\n  ListItemButton,\r\n  ListItemText,\r\n  Divider,\r\n  IconButton,\r\n  TextField,\r\n  Button,\r\n  Chip,\r\n  Stack,\r\n  Tabs,\r\n  Tab,\r\n} from \"@mui/material\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\n\r\nconst UserCodesPage = () => {\r\n  const [codes, setCodes] = useState([]);\r\n  const [modules, setModules] = useState([]);\r\n  const [activeModule, setActiveModule] = useState(null);\r\n  const [selectedField, setSelectedField] = useState(null);\r\n  const [newOption, setNewOption] = useState(\"\");\r\n\r\n  const dataset = [\r\n    {\r\n      group_type: \"driver\",\r\n      field_name: \"driver_status\",\r\n      field_values: [\"Active\", \"On Leave\", \"Suspended\", \"Retired\"],\r\n    },\r\n    {\r\n      group_type: \"driver\",\r\n      field_name: \"gender\",\r\n      field_values: [\"Male\", \"Female\", \"Other\"],\r\n    },\r\n    {\r\n      group_type: \"driver\",\r\n      field_name: \"license_type\",\r\n      field_values: [\"LMV\", \"HMV\", \"Transport\"],\r\n    },\r\n\r\n    {\r\n      group_type: \"vehicle_master\",\r\n      field_name: \"vehicle_type\",\r\n      field_values: [\"New\", \"Old\", \"Outside\", \"Market\"],\r\n    },\r\n    {\r\n      group_type: \"vehicle_master\",\r\n      field_name: \"vehicle_class\",\r\n      field_values: [\"Commercial\", \"Passenger\"],\r\n    },\r\n    {\r\n      group_type: \"vehicle_master\",\r\n      field_name: \"fuel_type\",\r\n      field_values: [\"Petrol\", \"Diesel\", \"EV\"],\r\n    },\r\n\r\n    {\r\n      group_type: \"location_master\",\r\n      field_name: \"location_type\",\r\n      field_values: [\"Pickup Point\", \"Drop Point\", \"Factory\"],\r\n    },\r\n    {\r\n      group_type: \"location_master\",\r\n      field_name: \"zone\",\r\n      field_values: [\"East\", \"West\", \"North\", \"South\"],\r\n    },\r\n\r\n    {\r\n      group_type: \"user_master\",\r\n      field_name: \"roles\",\r\n      field_values: [\"Admin\", \"Manager\", \"Operator\"],\r\n    },\r\n\r\n    {\r\n      group_type: \"vehicle\",\r\n      field_name: \"payment_details\",\r\n      field_values: [\"UPI\", \"Cash\", \"Bank Transfer\"],\r\n    },\r\n    {\r\n      group_type: \"vehicle\",\r\n      field_name: \"gender\",\r\n      field_values: [\"Male\", \"Female\"],\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    setCodes(dataset);\r\n\r\n    const uniqueModules = [...new Set(dataset.map((d) => d.group_type))];\r\n    setModules(uniqueModules);\r\n\r\n    setActiveModule(uniqueModules[0]);\r\n  }, []);\r\n\r\n  const fieldsOfActiveModule = codes.filter(\r\n    (c) => c.group_type === activeModule\r\n  );\r\n\r\n  const handleAdd = () => {\r\n    if (!newOption.trim()) return;\r\n\r\n    const updated = codes.map((item) =>\r\n      item.field_name === selectedField.field_name\r\n        ? {\r\n            ...item,\r\n            field_values: [...item.field_values, newOption],\r\n          }\r\n        : item\r\n    );\r\n\r\n    setCodes(updated);\r\n    setNewOption(\"\");\r\n  };\r\n\r\n  const handleDelete = (value) => {\r\n    const updated = codes.map((item) =>\r\n      item.field_name === selectedField.field_name\r\n        ? {\r\n            ...item,\r\n            field_values: item.field_values.filter((v) => v !== value),\r\n          }\r\n        : item\r\n    );\r\n\r\n    setCodes(updated);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* ------------ MODULE TABS ------------ */}\r\n      <Tabs\r\n        value={activeModule}\r\n        onChange={(e, val) => {\r\n          setActiveModule(val);\r\n          setSelectedField(null); // reset selected field\r\n        }}\r\n        TabIndicatorProps={{\r\n          style: {\r\n            backgroundColor: \"#6B7280\", // grey indicator\r\n            height: \"3px\",\r\n          },\r\n        }}\r\n      >\r\n        {modules.map((m) => (\r\n          <Tab\r\n            key={m}\r\n            value={m}\r\n            label={m.replace(/_/g, \" \").toUpperCase()}\r\n            sx={{\r\n              textTransform: \"none\",\r\n              fontWeight: activeModule === m ? 600 : 500,\r\n              color: activeModule === m ? \"#4B5563\" : \"#6B7280\",\r\n\r\n              \"&.Mui-selected\": {\r\n                color: \"#4B5563\",\r\n              },\r\n\r\n              \"&:hover\": {\r\n                backgroundColor: \"transparent\",\r\n              },\r\n            }}\r\n          />\r\n        ))}\r\n      </Tabs>\r\n\r\n      <Box display=\"flex\" gap={2} mt={3}>\r\n        {/* -------- LEFT: FIELD LIST -------- */}\r\n        <Box sx={{ width: 280, p: 2, bgcolor: \"#F7F7F7\", borderRadius: 2 }}>\r\n          <AnimatePresence mode=\"wait\">\r\n            <motion.div\r\n              key={activeModule}\r\n              initial={{ opacity: 0, scale: 0.95, x: -20 }}\r\n              animate={{ opacity: 1, scale: 1, x: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95, x: 20 }}\r\n              transition={{ duration: 0.5, ease: [0.4, 0, 0.2, 1] }}\r\n            >\r\n              <Typography\r\n                variant=\"h6\"\r\n                sx={{ mb: 2, fontWeight: 600, fontSize: \"1rem\" }}\r\n              >\r\n                Fields\r\n              </Typography>\r\n              <Divider sx={{ mb: 1 }} />\r\n\r\n              <List>\r\n                {fieldsOfActiveModule.map((item) => (\r\n                  <ListItemButton\r\n                    key={item.field_name}\r\n                    selected={selectedField?.field_name === item.field_name}\r\n                    onClick={() => setSelectedField(item)}\r\n                    sx={{ borderRadius: 2, mb: 1, py: 0.5, px: 1.5 }}\r\n                  >\r\n                    <ListItemText\r\n                      primary={item.field_name.replace(/_/g, \" \").toUpperCase()}\r\n                      primaryTypographyProps={{\r\n                        fontSize: \"0.8rem\",\r\n                        fontWeight: 600,\r\n                      }}\r\n                    />\r\n                  </ListItemButton>\r\n                ))}\r\n              </List>\r\n            </motion.div>\r\n          </AnimatePresence>\r\n        </Box>\r\n\r\n        {/* ⭐ VERTICAL SEPARATOR ⭐ */}\r\n        <Divider orientation=\"vertical\" flexItem />\r\n\r\n        {/* -------- RIGHT: OPTIONS EDITOR WITH MOTION -------- */}\r\n        <Box sx={{ flex: 1, p: 3, bgcolor: \"#F7F7F7\", borderRadius: 2 }}>\r\n          <AnimatePresence mode=\"wait\">\r\n            <motion.div\r\n              key={`${activeModule}-${selectedField?.field_name || \"nofield\"}`}\r\n              initial={{ opacity: 0, scale: 0.9, x: -20 }}\r\n              animate={{ opacity: 1, scale: 1, x: 0 }}\r\n              exit={{ opacity: 0, scale: 0.9, x: 20 }}\r\n              transition={{ duration: 0.5, ease: [0.4, 0, 0.2, 1] }}\r\n            >\r\n              {!selectedField ? (\r\n                <Typography sx={{ color: \"gray\" }}>\r\n                  Select a field to configure →\r\n                </Typography>\r\n              ) : (\r\n                <>\r\n                  <Typography\r\n                    variant=\"h6\"\r\n                    sx={{ mb: 2, fontWeight: 600, fontSize: \"1rem\" }}\r\n                  >\r\n                    {selectedField.field_name.replace(/_/g, \" \").toUpperCase()}\r\n                  </Typography>\r\n\r\n                  {/* Chips */}\r\n                  <Stack\r\n                    direction=\"row\"\r\n                    spacing={1}\r\n                    flexWrap=\"wrap\"\r\n                    sx={{ mb: 3 }}\r\n                  >\r\n                    {selectedField.field_values.map((option) => (\r\n                      <Chip\r\n                        key={option}\r\n                        label={option}\r\n                        onDelete={() => handleDelete(option)}\r\n                        deleteIcon={<DeleteIcon />}\r\n                        sx={{ mb: 1 }}\r\n                      />\r\n                    ))}\r\n                  </Stack>\r\n\r\n                  {/* Add Option */}\r\n                  <Box display=\"flex\" gap={1}>\r\n                    <TextField\r\n                      size=\"small\"\r\n                      label=\"Add Option\"\r\n                      fullWidth\r\n                      value={newOption}\r\n                      onChange={(e) => setNewOption(e.target.value)}\r\n                    />\r\n                    <IconButton color=\"primary\" onClick={handleAdd}>\r\n                      <AddIcon />\r\n                    </IconButton>\r\n                  </Box>\r\n                </>\r\n              )}\r\n            </motion.div>\r\n          </AnimatePresence>\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserCodesPage;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}